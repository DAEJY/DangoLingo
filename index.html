<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>당고링고</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <nav class="global-nav">
        <div class="nav-content">
            <div class="nav-left">
                <a href="#" class="logo" onclick="showDashboard(); return false;">당고링고</a>
            </div>
            <div class="nav-right" id="navRight">
                <div class="nav-guest" id="navGuest">
                    <button onclick="showLoginForm()" class="nav-btn login-btn">로그인</button>
                    <button onclick="showRegisterForm()" class="nav-btn register-btn">회원가입</button>
                </div>
                <div class="nav-user hidden" id="navUser">
                    <div class="profile-menu">
                        <button class="profile-btn">
                            <i class="fas fa-user-circle"></i>
                            <span id="userEmail"></span>
                        </button>
                        <div class="profile-dropdown hidden">
                            <a href="#" onclick="showMyPage(); return false;">마이페이지</a>
                            <a href="#" onclick="logout(); return false;">로그아웃</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    
    <main class="main-container">
        <div id="page-container">
            <section class="intro-section" id="introSection">
                <div class="intro-hero">
                    <h1>당신의 일본어 학습 파트너</h1>
                    <p class="hero-subtitle">JLPT N5부터 N3까지, 체계적인 단어 학습을 시작하세요</p>
                    <button onclick="startLearning()" class="cta-button">무료로 시작하기</button>
                </div>
                <div class="intro-features">
                    <div class="feature-card">
                        <i class="fas fa-graduation-cap"></i>
                        <h3>레벨별 학습</h3>
                        <p>자신의 수준에 맞는 단계부터 시작하세요</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-gamepad"></i>
                        <h3>퀴즈 모드</h3>
                        <p>게임하듯 재미있게 복습하세요</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-volume-up"></i>
                        <h3>발음 학습</h3>
                        <p>네이티브 발음으로 정확하게 학습하세요</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-book"></i>
                        <h3>오답 노트</h3>
                        <p>틀린 문제를 효과적으로 관리하세요</p>
                    </div>
                </div>
            </section>

            <section class="dashboard-section hidden" id="dashboardSection">
                <div class="dashboard-hero">
                    <div class="dango-mascot">
                        <span class="dango-emoji">🍡</span>
                    </div>
                    <div class="welcome-box">
                        <h1>어서오세요, <span id="userEmail"></span>님!</h1>
                        <p class="welcome-subtitle">오늘도 맛있는 당고처럼 달콤한 학습되세요 🍡</p>
                        <div class="welcome-buttons">
                            <button onclick="window.location.href='/quiz.html'" class="dango-quiz-btn">
                                <i class="fas fa-gamepad"></i>
                                퀴즈 풀기
                            </button>
                            <button onclick="window.location.href='/create-quiz.html'" class="dango-create-btn">
                                <i class="fas fa-plus-circle"></i>
                                퀴즈 만들기
                            </button>
                        </div>
                    </div>
                </div>

                <div class="dashboard-features">
                    <div class="feature-card learning-status">
                        <div class="card-header">
                            <i class="fas fa-chart-line"></i>
                            <h3>나의 학습 현황</h3>
                        </div>
                        <div class="progress-circle-container">
                            <div class="progress-circle" id="totalProgressCircle">
                                <span class="progress-number" id="totalProgressText">0%</span>
                            </div>
                        </div>
                        <p class="progress-detail">총 <span id="totalStudiedWords">0</span>/<span id="totalWords">0</span> 단어 학습</p>
                    </div>

                    <div class="feature-card level-progress">
                        <div class="card-header">
                            <i class="fas fa-layer-group"></i>
                            <h3>JLPT 레벨별 진도</h3>
                        </div>
                        <div class="level-bars">
                            <div class="level-bar-item">
                                <span class="level-label">N5</span>
                                <div class="progress-bar">
                                    <div id="n5Progress" class="progress-fill"></div>
                                </div>
                                <span id="n5ProgressText" class="progress-text">0%</span>
                            </div>
                            <div class="level-bar-item">
                                <span class="level-label">N4</span>
                                <div class="progress-bar">
                                    <div id="n4Progress" class="progress-fill"></div>
                                </div>
                                <span id="n4ProgressText" class="progress-text">0%</span>
                            </div>
                            <div class="level-bar-item">
                                <span class="level-label">N3</span>
                                <div class="progress-bar">
                                    <div id="n3Progress" class="progress-fill"></div>
                                </div>
                                <span id="n3ProgressText" class="progress-text">0%</span>
                            </div>
                        </div>
                    </div>

                    <div class="feature-card study-streak">
                        <div class="card-header">
                            <i class="fas fa-fire"></i>
                            <h3>학습 스트릭</h3>
                        </div>
                        <div class="streak-display">
                            <span class="streak-number" id="studyStreak">0</span>
                            <span class="streak-text">일 연속</span>
                        </div>
                        <div class="dango-streak">
                            🍡 <!-- 스트릭 수에 따라 당고 이모지 개수가 늘어남 -->
                        </div>
                    </div>
                </div>

                <div class="study-calendar">
                    <div class="calendar-header">
                        <h2>학습 기록</h2>
                        <div class="calendar-legend">
                            <span class="legend-item">
                                <span class="legend-box level-0"></span>
                                0회
                            </span>
                            <span class="legend-item">
                                <span class="legend-box level-1"></span>
                                1-3회
                            </span>
                            <span class="legend-item">
                                <span class="legend-box level-2"></span>
                                4-6회
                            </span>
                            <span class="legend-item">
                                <span class="legend-box level-3"></span>
                                7회+
                            </span>
                        </div>
                    </div>
                    <div class="calendar-grid" id="studyCalendar">
                        <!-- JavaScript로 동적 생성됨 -->
                    </div>
                </div>
            </section>

            <!-- 퀴즈 섹션 -->
            <section class="quiz-section hidden" id="quizSection">
                <div class="quiz-header">
                    <h1>일본어 단어 퀴즈</h1>
                    <div class="quiz-controls">
                        <select id="quizLevel" class="quiz-select">
                            <option value="N5">JLPT N5</option>
                            <option value="N4">JLPT N4</option>
                            <option value="N3">JLPT N3</option>
                        </select>
                        <button onclick="startQuiz()" class="quiz-start-btn">퀴즈 시작</button>
                    </div>
                </div>
                
                <div class="quiz-container hidden" id="quizContainer">
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div id="quizProgressFill" class="progress-fill"></div>
                        </div>
                        <span id="questionCounter">1/10</span>
                    </div>
                    
                    <div class="quiz-content">
                        <div class="quiz-question">
                            <h2 id="questionWord">単語</h2>
                            <p id="questionHint" class="question-hint">ヒント</p>
                        </div>
                        
                        <div class="quiz-options">
                            <button class="option-btn" onclick="checkAnswer(0)"></button>
                            <button class="option-btn" onclick="checkAnswer(1)"></button>
                            <button class="option-btn" onclick="checkAnswer(2)"></button>
                            <button class="option-btn" onclick="checkAnswer(3)"></button>
                        </div>
                    </div>
                </div>
                
                <div class="quiz-result hidden" id="quizResult">
                    <h2>퀴즈 결과</h2>
                    <div class="result-stats">
                        <div class="result-item">
                            <i class="fas fa-check"></i>
                            <span>정답: <span id="correctAnswers">0</span>개</span>
                        </div>
                        <div class="result-item">
                            <i class="fas fa-times"></i>
                            <span>오답: <span id="wrongAnswers">0</span>개</span>
                        </div>
                        <div class="result-item">
                            <i class="fas fa-percentage"></i>
                            <span>정답률: <span id="quizAccuracy">0</span>%</span>
                        </div>
                    </div>
                    <button onclick="retryQuiz()" class="quiz-retry-btn">다시 도전하기</button>
                </div>
            </section>

            <!-- 마이페이지 섹션 -->
            <section class="mypage-section hidden" id="mypageSection">
                <div class="mypage-header">
                    <h1>마이페이지</h1>
                </div>
                
                <div class="mypage-content">
                    <div class="profile-card">
                        <div class="profile-info">
                            <div class="profile-image">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="profile-details">
                                <h2 id="profileName">사용자명</h2>
                                <p id="profileEmail">user@example.com</p>
                            </div>
                        </div>
                        <button onclick="editProfile()" class="edit-profile-btn">프로필 수정</button>
                    </div>
                    
                    <div class="study-history">
                        <h2>학습 이력</h2>
                        <div class="history-cards">
                            <div class="history-card">
                                <h3>최근 학습</h3>
                                <p>최근 학습 날짜: <span id="lastStudyDate">2024-03-21</span></p>
                                <p>학습한 단어: <span id="lastStudyWords">30</span>개</p>
                            </div>
                            <div class="history-card">
                                <h3>학습 통계</h3>
                                <p>총 학습 시간: <span id="totalStudyTime">24</span>시간</p>
                                <p>연속 학습: <span id="studyStreak">5</span>일</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="achievement-section">
                        <h2>나의 업적</h2>
                        <div class="achievement-grid">
                            <!-- 업적 카드들은 JavaScript로 동적 생성됩니다 -->
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">당고링고</div>
            <div class="footer-links">
                <a href="#">서비스 소개</a>
                <a href="#">이용약관</a>
                <a href="#">개인정처리방침</a>
            </div>
            <div class="footer-social">
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
        </div>
    </footer>

    <div class="modal-overlay hidden" id="authModal">
        <div class="modal-content">
            <!-- 로그인 폼 -->
            <div class="auth-form" id="loginForm">
                <h2>로그인</h2>
                <button class="modal-close" onclick="closeAuthModal()">×</button>
                <input type="email" id="loginEmail" placeholder="이메일">
                <input type="password" id="loginPassword" placeholder="비밀번호">
                <button onclick="login()" class="auth-btn">로그인</button>
                <p>계정이 없으신가요? <a href="#" onclick="toggleAuthForm()">회원가입</a></p>
            </div>
            <!-- 회원가입 폼 -->
            <div class="auth-form hidden" id="registerForm">
                <h2>회원가입</h2>
                <button class="modal-close" onclick="closeAuthModal()">×</button>
                <input type="email" id="registerEmail" placeholder="이메일">
                <input type="password" id="registerPassword" placeholder="비밀번호">
                <input type="password" id="confirmPassword" placeholder="비밀번호 확인">
                <button onclick="register()" class="auth-btn">회원가입</button>
                <p>이미 계정이 있으신가요? <a href="#" onclick="toggleAuthForm()">로그인</a></p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 